pipeline {
    agent none

    stages {
		stage('Build') {
			agent { label 'master' }
			steps {
				sh '''
						echo STAGE 1: "Hi"
						sleep 5
				   '''
			}
		}
		
		stage('Test') {
			agent { label 'slave1' }
			steps {
				sh '''
						echo STAGE 2: "How are you"
						sleep 5
				   '''
			}
		}
	
		stage('Deploy') {
			agent { label 'slave2' }
			steps {
				sh '''
						echo STAGE 3: "How do you do"
						sleep 5
				   '''
			}
		}
	}
}